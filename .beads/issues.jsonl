{"id":"wonderback-19t","title":"Epic: Refactor TalkBack into Developer-Friendly Accessibility Testing Service","description":"Transform TalkBack into an AccessibilityService designed for integration testing and agentic automation. Enable programmatic gesture control over ADB, improve debugging fixtures, and create visualization tools for accessibility trees.\n\nGoals:\n- Move away from MCP server approach to a more ambitious developer-friendly system\n- Enable programmatic testing of accessibility features\n- Provide rich debugging and visualization tools\n- Support agentic/automated testing workflows\n\nPhases:\n1. Core accessibility service refactor\n2. ADB interface for programmatic control\n3. Enhanced debugging fixtures\n4. Visualization tools (stretch: 3D WebGL a11y tree viewer)\n\nThis epic will contain multiple sub-issues for each phase.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:01:14.395189227-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:14.395189227-05:00"}
{"id":"wonderback-20","title":"Upgrade Gradle from 7.6.6 to version 8 or 9","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:38:54.714721238-05:00","created_by":"kimb","updated_at":"2026-01-29T00:42:09.905320963-05:00","closed_at":"2026-01-29T00:42:07.7201341-05:00"}
{"id":"wonderback-21","title":"Investigate if Gradle is actually needed in the project","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:38:54.746877344-05:00","created_by":"kimb","updated_at":"2026-01-29T00:40:09.240883989-05:00","closed_at":"2026-01-29T00:40:07.782202989-05:00"}
{"id":"wonderback-22","title":"Check if temporary insecure package allowance is acceptable workaround","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:38:54.779563672-05:00","created_by":"kimb","updated_at":"2026-01-29T00:41:03.879661534-05:00","closed_at":"2026-01-29T00:41:02.45243446-05:00"}
{"id":"wonderback-23","title":"Fix Gradle 8 breaking change: archiveName -\u003e archiveFileName","description":"Build fails at braille/brltty/build.gradle:22 because archiveName property no longer exists in Gradle 8. Need to replace with archiveFileName.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-29T00:46:12.528871772-05:00","created_by":"kimb","updated_at":"2026-01-29T00:49:13.889271944-05:00","closed_at":"2026-01-29T00:49:11.737734402-05:00"}
{"id":"wonderback-24","title":"Search for and fix remaining Gradle 8 deprecated syntax in build files","description":"Look for archiveName, destinationDir, and other deprecated Gradle properties across all build.gradle files and update them to Gradle 8 syntax","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:46:36.324417268-05:00","created_by":"kimb","updated_at":"2026-01-29T00:50:17.203368578-05:00","closed_at":"2026-01-29T00:50:15.407852608-05:00"}
{"id":"wonderback-25","title":"Fix braille/translate/build.gradle Gradle 8 syntax (archiveName, destinationDir, ndkVersion)","description":"Update line 5: ndkVersion = assignment, line 20: archiveFileName, line 21: destinationDirectory","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:49:11.775860417-05:00","created_by":"kimb","updated_at":"2026-01-29T00:49:28.698099372-05:00","closed_at":"2026-01-29T00:49:27.292653747-05:00"}
{"id":"wonderback-26","title":"Fix build.gradle lintOptions-\u003elint and packagingOptions-\u003epackaging","description":"Lines 51-54: packagingOptions-\u003epackaging with resources block. Lines 55-58: lintOptions-\u003elint","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:49:11.851922146-05:00","created_by":"kimb","updated_at":"2026-01-29T00:49:39.463523722-05:00","closed_at":"2026-01-29T00:49:38.053019908-05:00"}
{"id":"wonderback-27","title":"Fix property assignment syntax in build.gradle (add = operators)","description":"Update 11 properties in build.gradle to use = syntax: applicationId, versionName, minSdkVersion, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:49:11.9305842-05:00","created_by":"kimb","updated_at":"2026-01-29T00:49:52.071448689-05:00","closed_at":"2026-01-29T00:49:50.664329111-05:00"}
{"id":"wonderback-28","title":"Fix property assignment syntax in shared.gradle (add = operators)","description":"Update 5 properties in shared.gradle to use = syntax: compileSdkVersion, multiDexEnabled, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T00:49:12.009939428-05:00","created_by":"kimb","updated_at":"2026-01-29T00:50:08.324185559-05:00","closed_at":"2026-01-29T00:50:06.924436182-05:00"}
{"id":"wonderback-29","title":"Upgrade Android Gradle Plugin from 7.2.2 to 8.x","description":"CRITICAL: AGP 7.2.2 is incompatible with Gradle 8 (IncrementalTaskInputs removed). Must upgrade to AGP 8.x to build. Update build.gradle line 30: com.android.tools.build:gradle:8.2.0 or later","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T00:49:12.079170956-05:00","created_by":"kimb","updated_at":"2026-01-29T01:51:57.526500056-05:00","closed_at":"2026-01-29T01:51:56.117874957-05:00"}
{"id":"wonderback-30","title":"Epic: Model Gym MVP - TalkBack Agent Sudoku Test","description":"Build complete testing environment for TalkBack agent with accessibility-focused Sudoku test app. Validate agent can navigate and interact using only TalkBack utterances and gestures.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T01:10:59.932930061-05:00","created_by":"kimb","updated_at":"2026-01-29T01:10:59.932930061-05:00"}
{"id":"wonderback-31","title":"Build full TalkBack APK (not just compile check)","description":"Run nix run .#build to create the full APK file for deployment to emulator","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:11:00.070992831-05:00","created_by":"kimb","updated_at":"2026-01-29T01:55:39.815120001-05:00","closed_at":"2026-01-29T01:55:38.402328962-05:00"}
{"id":"wonderback-32","title":"Research Android emulation options: Android Emulator vs Waydroid","description":"Compare Android Emulator (official) vs Waydroid (container-based) for running TalkBack tests. Consider: setup complexity, performance, TalkBack compatibility, nix integration","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:11:00.269012144-05:00","created_by":"kimb","updated_at":"2026-01-29T03:34:47.386584622-05:00","closed_at":"2026-01-29T03:34:45.980508776-05:00","comments":[{"id":1,"issue_id":"wonderback-32","author":"kimb","text":"# Research Complete: Android Emulator vs Waydroid for TalkBack Testing\n\n## Executive Summary\n\n**RECOMMENDATION: Use Android Emulator (official)**\n\nFor the TalkBack agent testing MVP, the Android Emulator is the better choice despite Waydroid's performance advantages. The deciding factors are TalkBack compatibility guarantees, simpler NixOS integration with existing flake.nix, and lower setup complexity.\n\n## Detailed Analysis\n\n### 1. Setup Complexity on NixOS\n\n**Android Emulator: SIMPLE** ✓\n- Already have Android SDK configured in flake.nix (androidenv.composeAndroidPackages)\n- Just need to add: includeEmulator = true, includeSystemImages = true\n- System images available: systemImageTypes = [\"google_apis_playstore\"]\n- Zero additional system configuration needed\n- Commands: avdmanager create avd, then emulator @avd_name -no-window\n\n**Waydroid: COMPLEX**\n- Requires system-level configuration.nix changes\n- Must enable virtualisation.waydroid.enable = true\n- Requires Wayland (not X11) - may need nested Wayland session with cage\n- Conflicts reported: Once Waydroid enabled, Android Studio emulator won't start\n- Requires kvm group membership and nftables patches (waydroid-nftables package)\n- Multi-step initialization: sudo waydroid init -s GAPPS, systemctl start waydroid-container\n\n### 2. Performance for Single Instance\n\n**Waydroid: BETTER**\n- Container-based (LXC): near-native performance, no virtualization overhead\n- 2-3x more resource-efficient than VMs\n- \u003e60 FPS, \u003c16ms input latency\n\n**Android Emulator: GOOD ENOUGH**\n- QEMU-based virtualization: ~20ms latency\n- Hardware acceleration with KVM available on NixOS\n- For MVP with single instance: performance difference not critical\n- Can use -no-window -no-audio for headless efficiency\n\n**Verdict:** Waydroid wins on performance, but for single-instance MVP testing, emulator performance is adequate.\n\n### 3. TalkBack Accessibility Service Compatibility\n\n**Android Emulator: GUARANTEED** ✓\n- TalkBack officially supported and well-documented\n- Install Android Accessibility Suite from Google Play Store\n- Multiple tutorials confirm TalkBack works on emulators\n- Google's own testing documentation uses emulators for TalkBack testing\n\n**Waydroid: UNCERTAIN** ⚠️\n- No specific documentation found about TalkBack compatibility\n- Based on LineageOS/Android 11-13 - should theoretically support accessibility services\n- Waydroid has \"built-in accessibility features\" (text-to-speech, gestures) but unclear if full TalkBack works\n- Risk: May require Google Play certification workarounds\n- No community reports confirming TalkBack functionality in Waydroid\n\n**Verdict:** Android Emulator is the safe choice for accessibility service testing.\n\n### 4. ADB Access for APK Installation\n\n**Both: EXCELLENT** ✓\n- Android Emulator: Native ADB support, standard adb install\n- Waydroid: waydroid app install or waydroid adb connect then standard ADB\n\n### 5. Integration with Existing Nix Development Environment\n\n**Android Emulator: SEAMLESS** ✓\n- flake.nix already has androidenv.composeAndroidPackages configured\n- Just change includeEmulator = false → true\n- Add system images to same composition\n- Environment variables already set: ANDROID_HOME, ANDROID_SDK_ROOT\n- Can add avdmanager/emulator commands to shellHook\n\n**Waydroid: REQUIRES RESTRUCTURING**\n- Needs NixOS system configuration (not just flake.nix)\n- Different package (virtualisation.waydroid vs androidenv)\n- May conflict with existing Android SDK emulator setup\n- Development environment would span flake.nix + configuration.nix\n\n### 6. Future Scalability (Multi-Instance Support)\n\n**Android Emulator: EXCELLENT** ✓\n- Multiple AVDs easily created with avdmanager\n- Each AVD is isolated\n- Can run multiple instances simultaneously (resource permitting)\n- Standard practice for CI/CD testing\n\n**Waydroid: LIMITED**\n- Single instance per user by default\n- Multi-instance support exists (Multidroid project on GitHub)\n- Requires complex setup: separate user accounts or containers\n- Not well-documented for NixOS\n\n### 7. Additional Considerations\n\n**Reliability \u0026 Maturity:**\n- Android Emulator: Mature, widely used, extensive documentation\n- Waydroid: Newer, community-driven, less documentation\n\n**Debugging \u0026 Tooling:**\n- Android Emulator: Full Android Studio integration available, remote debugging well-supported\n- Waydroid: scrcpy doesn't work for screen mirroring (per wonderback-38), requires VNC/RDP workarounds\n\n**Hardware Access:**\n- Android Emulator: Emulated hardware (camera, GPS, sensors) with controls\n- Waydroid: Limited hardware access (no camera, GPS, Bluetooth)\n\n## Recommendation Rationale\n\nFor the Model Gym MVP (wonderback-30: TalkBack agent Sudoku test), choose **Android Emulator** because:\n\n1. **TalkBack compatibility is mission-critical** - We're building a TalkBack agent testing environment. Using a platform with guaranteed TalkBack support eliminates a major risk.\n\n2. **Minimal setup changes** - Just modify existing flake.nix to include emulator and system images. No system configuration needed.\n\n3. **Lower complexity** - avdmanager/emulator commands are well-documented and work seamlessly with our existing androidenv setup.\n\n4. **Future-proof** - When we scale to multiple instances for parallel testing, Android Emulator's AVD model is battle-tested.\n\n5. **Development workflow** - Keeps everything in the flake.nix development environment without requiring system-level changes.\n\n## Implementation Plan (for wonderback-34)\n\n```nix\n# In flake.nix, modify androidComposition:\nandroidComposition = pkgs.androidenv.composeAndroidPackages {\n  buildToolsVersions = [ \"34.0.0\" ];\n  platformVersions = [ \"34\" ];\n  includeNDK = true;\n  ndkVersions = [ \"21.4.7075529\" ];\n  includeEmulator = true;  # CHANGE: false → true\n  includeSystemImages = true;  # CHANGE: false → true\n  systemImageTypes = [ \"google_apis_playstore\" ];  # ADD\n  abiVersions = [ \"x86_64\" ];  # ADD\n};\n```\n\n**Setup commands:**\n```bash\n# Ensure user in kvm group (one-time, requires system config)\n# In /etc/nixos/configuration.nix:\n# users.users.\u003cuser\u003e.extraGroups = [\"kvm\" \"adbusers\"];\n\n# Create AVD\navdmanager create avd -n talkback_test -k \"system-images;android-34;google_apis_playstore;x86_64\"\n\n# Configure AVD\necho \"hw.keyboard=yes\" \u003e\u003e ~/.android/avd/talkback_test.avd/config.ini\n\n# Start emulator (headless)\nemulator @talkback_test -no-window -no-boot-anim \u0026\n\n# Wait for boot, then install TalkBack APK\nadb install wonderback-phone-debug.apk\n\n# Install Android Accessibility Suite from Play Store or sideload\n# Enable TalkBack in Settings \u003e Accessibility \u003e TalkBack\n\n# Run tests\n```\n\n## Sources Consulted\n\n### Performance \u0026 Architecture\n- [Android Authority: Waydroid vs Android Emulators](https://www.androidauthority.com/waydroid-vs-android-emulators-3605675/)\n- [Cyberpanel: Android Emulator for Linux Guide 2026](https://cyberpanel.net/blog/android-emulator-for-linux)\n- [Hacker News: Waydroid comparison discussion](https://news.ycombinator.com/item?id=42917392)\n\n### NixOS Setup\n- [NixOS Wiki: Android](https://wiki.nixos.org/wiki/Android)\n- [NixOS Wiki: Waydroid](https://wiki.nixos.org/wiki/Waydroid)\n- [DevCtrl: Run Android Emulator on NixOS with flake](https://devctrl.blog/posts/how-to-run-android-mobile-tv-emulator-on-nix-os-without-android-studio/)\n- [NixOS Discourse: Waydroid and Android Studio conflict](https://discourse.nixos.org/t/how-to-have-both-waydroid-and-android-studio-emulator/20416)\n\n### TalkBack \u0026 Accessibility\n- [Medium: How to Use TalkBack on Android Emulator](https://ajkueterman.medium.com/how-to-use-talkback-on-an-android-emulator-6252c16c0ab8)\n- [Android Developers: Testing for Accessibility](https://developer.android.com/codelabs/basic-android-kotlin-compose-test-accessibility)\n- [Android Developers: Start Emulator from Command Line](https://developer.android.com/studio/run/emulator-commandline)\n\n### Waydroid Limitations\n- [Waydroid Documentation: Install and Run Applications](https://docs.waydro.id/usage/install-and-run-android-applications)\n- [Waydroid Documentation: Using ADB](https://docs.waydro.id/faq/using-adb-with-waydroid)\n- [GitHub: Multidroid - Waydroid multi-instance support](https://github.com/VineshReddy/multidroid)\n\n","created_at":"2026-01-29T08:34:37Z"}]}
{"id":"wonderback-33","title":"Create minimal Sudoku test app with Kotlin Compose","description":"Build single-page Sudoku app: 9x9 grid, tap cell for 1-9 input, solve button. UI: 'You have to solve this sudoku' header + terse prompt about being blind/low-vision user. Focus on accessibility testing, not game logic","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:11:00.402216121-05:00","created_by":"kimb","updated_at":"2026-01-29T03:37:14.019927466-05:00","closed_at":"2026-01-29T03:37:12.607743155-05:00"}
{"id":"wonderback-34","title":"Set up Android runtime (emulator or Waydroid) for testing","description":"Configure chosen Android runtime environment with TalkBack enabled for agent testing","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T01:11:00.544735391-05:00","created_by":"kimb","updated_at":"2026-01-29T01:11:00.544735391-05:00","dependencies":[{"issue_id":"wonderback-34","depends_on_id":"wonderback-32","type":"blocks","created_at":"2026-01-29T01:11:18.079841324-05:00","created_by":"import"},{"issue_id":"wonderback-34","depends_on_id":"wonderback-38","type":"blocks","created_at":"2026-01-29T01:28:54.345884582-05:00","created_by":"import"},{"issue_id":"wonderback-34","depends_on_id":"wonderback-39","type":"blocks","created_at":"2026-01-29T01:28:54.347775022-05:00","created_by":"import"}]}
{"id":"wonderback-35","title":"MVP: Run TalkBack agent test on Sudoku app (utterances + gestures only)","description":"Test agent navigating Sudoku app using only TalkBack utterances as context and gesture commands. No visual input. Document what works/fails","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T01:11:00.685227594-05:00","created_by":"kimb","updated_at":"2026-01-29T01:11:00.685227594-05:00","dependencies":[{"issue_id":"wonderback-35","depends_on_id":"wonderback-31","type":"blocks","created_at":"2026-01-29T01:11:18.081558429-05:00","created_by":"import"},{"issue_id":"wonderback-35","depends_on_id":"wonderback-33","type":"blocks","created_at":"2026-01-29T01:11:18.083067208-05:00","created_by":"import"},{"issue_id":"wonderback-35","depends_on_id":"wonderback-34","type":"blocks","created_at":"2026-01-29T01:11:18.084511699-05:00","created_by":"import"}]}
{"id":"wonderback-36","title":"Add low-res blurry screenshot mode for hover-to-focus testing","description":"Extend test with low-resolution screenshot with blurry text to enable hover-to-focus workflows vs swipe-to-focus","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-29T01:11:00.829073377-05:00","created_by":"kimb","updated_at":"2026-01-29T01:11:00.829073377-05:00","dependencies":[{"issue_id":"wonderback-36","depends_on_id":"wonderback-35","type":"blocks","created_at":"2026-01-29T01:11:18.085976447-05:00","created_by":"import"}]}
{"id":"wonderback-37","title":"Improve Sudoku app accessibility based on model feedback","description":"After initial tests, improve app accessibility to address issues models encountered. Make it easier for agents to navigate and solve","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T01:11:00.979449734-05:00","created_by":"kimb","updated_at":"2026-01-29T01:11:00.979449734-05:00","dependencies":[{"issue_id":"wonderback-37","depends_on_id":"wonderback-35","type":"blocks","created_at":"2026-01-29T01:11:18.087431748-05:00","created_by":"import"}]}
{"id":"wonderback-38","title":"Research scrcpy compatibility with Waydroid for remote control","description":"Validate that scrcpy works with Waydroid for screen mirroring and control. If it works, document setup. If not, find alternative remote control solution.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:28:51.593862005-05:00","created_by":"kimb","updated_at":"2026-01-29T01:47:58.456241553-05:00","closed_at":"2026-01-29T01:47:56.75116048-05:00"}
{"id":"wonderback-39","title":"Set up ADB tunneling for remote control from user's computer","description":"Set up remote access to Waydroid on build server. Options: (1) RDP/VNC for full desktop access, (2) SSH X11 forwarding if available, (3) Direct ADB tunnel + user manual control. Since scrcpy video doesn't work with Waydroid, need alternative remote desktop solution.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T01:28:51.646227229-05:00","created_by":"kimb","updated_at":"2026-01-29T01:47:58.46208408-05:00"}
{"id":"wonderback-40","title":"Evaluate remote access options for Waydroid control","description":"Since scrcpy video doesn't work with Waydroid, evaluate: (1) RDP via Weston, (2) VNC with x11vnc, (3) SSH X11 forwarding, (4) Direct physical access. Recommend best approach for user to control Waydroid from their machine.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T01:47:56.977440129-05:00","created_by":"kimb","updated_at":"2026-01-29T01:47:56.977440129-05:00"}
{"id":"wonderback-41","title":"Fix build.gradle packaging syntax for AGP 7.2.2 compatibility","description":"Build fails because packaging() DSL requires AGP 8.x. Either revert to packagingOptions or upgrade AGP. Quick fix: revert to packagingOptions for AGP 7.2.2","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-29T01:48:18.830551782-05:00","created_by":"kimb","updated_at":"2026-01-29T01:48:30.727388494-05:00","closed_at":"2026-01-29T01:48:28.5625445-05:00"}
{"id":"wonderback-42","title":"Research: Waydroid vs Emulator Pool for MVP testing needs","description":"Compare: (1) Single Waydroid instance (container-based, fast, setup complexity?), (2) Android Emulator pool with QEMU (resource-heavy but mature). For MVP we only need ONE instance to test TalkBack on Sudoku. Evaluate setup complexity, resource usage, and recommend simplest path for single-instance MVP.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:49:00.710217768-05:00","created_by":"kimb","updated_at":"2026-01-29T01:52:34.54242845-05:00","closed_at":"2026-01-29T01:52:32.59296198-05:00"}
{"id":"wonderback-43","title":"Fix AGP 7.2.2 incompatibility with Gradle 8.14.4","description":"IncrementalTaskInputs API was removed in Gradle 8, causing AGP 7.2.2 to fail. Must upgrade to AGP 8.x for Gradle 8 compatibility.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-29T01:50:56.77830275-05:00","created_by":"kimb","updated_at":"2026-01-29T01:51:57.532509821-05:00","closed_at":"2026-01-29T01:51:56.117912797-05:00","dependencies":[{"issue_id":"wonderback-43","depends_on_id":"wonderback-29","type":"blocks","created_at":"2026-01-29T01:50:58.372766384-05:00","created_by":"import"}]}
{"id":"wonderback-44","title":"Research Waydroid multi-instance/profile support for parallel testing","description":"Can Waydroid run multiple isolated instances for one user? Do we need separate user accounts, containers, or profiles? Critical for future: one agent per Android instance. If Waydroid doesn't support this well, Android Emulator with multiple AVDs is better choice.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T01:50:58.352664238-05:00","created_by":"kimb","updated_at":"2026-01-29T01:55:17.511160537-05:00","closed_at":"2026-01-29T01:55:16.114346643-05:00"}
{"id":"wonderback-45","title":"Add namespace to all Android modules for AGP 8 compatibility","description":"AGP 8 requires namespace in build.gradle for each module. Find all AndroidManifest.xml files, extract package names, add namespace to corresponding build.gradle files.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T01:53:35.990462241-05:00","created_by":"kimb","updated_at":"2026-01-29T01:55:17.516475854-05:00","closed_at":"2026-01-29T01:55:16.114396735-05:00"}
{"id":"wonderback-46","title":"Fix circular dependency between :agent and :talkback modules","description":"AGP 8 detects circular dependency: agent→talkback→agent. Need to refactor module dependencies or split shared code into a separate module.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-29T01:55:38.093983844-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:29.479558323-05:00","closed_at":"2026-01-29T03:18:28.062933442-05:00"}
{"id":"wonderback-47","title":"Fix missing R.id.action_bar_container resource in TvSurveyPromptContainer","description":"Compilation fails because action_bar_container ID is not found. Either: (1) exclude TV-specific code from phone builds, (2) add missing resource, or (3) comment out problematic code for MVP","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-29T02:10:31.44886463-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:39.322151358-05:00","closed_at":"2026-01-29T03:18:37.884343259-05:00"}
{"id":"wonderback-48","title":"Epic: Complete AGP 8 migration - fix all resource generation issues","description":"Multiple modules have missing R.string resources after AGP 8 upgrade. Need systematic fix: check resource merging, namespace conflicts, build variant configuration. May need to regenerate resources or fix module dependencies.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-29T02:12:06.061064934-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:44.00274164-05:00","closed_at":"2026-01-29T03:18:42.599945008-05:00"}
{"id":"wonderback-49","title":"Remove or disable braille modules from phone builds","description":"Braille modules have missing resources and are blocking the build. For agent testing MVP, we don't need braille features. Either: (1) exclude from phone flavor, (2) comment out in settings.gradle, or (3) remove dependencies from main build","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T02:12:43.234082317-05:00","created_by":"kimb","updated_at":"2026-01-29T02:19:55.754412225-05:00","closed_at":"2026-01-29T02:19:53.175523049-05:00"}
{"id":"wonderback-50","title":"Remove braille imports from TalkBackService.java","description":"TalkBackService imports 6 braille packages that are now disabled. Comment out imports and any braille-related code in TalkBackService.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T02:14:32.826701161-05:00","created_by":"kimb","updated_at":"2026-01-29T02:19:55.760454107-05:00","closed_at":"2026-01-29T02:19:53.175558134-05:00"}
{"id":"wonderback-51","title":"Remove/stub braille package in talkback/braille/ directory","description":"Delete or stub out talkback/src/main/java/com/google/android/accessibility/talkback/braille/ directory since braille modules are disabled","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T02:14:33.209149273-05:00","created_by":"kimb","updated_at":"2026-01-29T02:19:55.762281034-05:00","closed_at":"2026-01-29T02:19:53.175564316-05:00"}
{"id":"wonderback-52","title":"Root cause: Missing string resources in base codebase (not AGP 8)","description":"The 77 missing string resources exist even with Gradle 7.6.6. This is a deeper issue - resources are missing from source, not a build system problem. Need to find last working commit or restore missing resources.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-29T02:31:49.074845887-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:14.73489295-05:00","closed_at":"2026-01-29T03:18:13.328474954-05:00"}
{"id":"wonderback-53","title":"Sanity test: Clone and build upstream TalkBack","description":"Clone google/talkback to /tmp and try building it with our nix environment. Verify that the build system setup works and identify what resources we're missing.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T02:34:28.554040343-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:05.675733177-05:00","closed_at":"2026-01-29T03:18:04.255940223-05:00"}
{"id":"wonderback-54","title":"Analyze: Identify all missing string resources","description":"Parse compilation errors to list all 77 missing R.string resources. Compare with upstream TalkBack to find which resource files are missing or incomplete.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T02:34:28.682269318-05:00","created_by":"kimb","updated_at":"2026-01-29T03:10:57.459171073-05:00","closed_at":"2026-01-29T03:10:54.636157224-05:00"}
{"id":"wonderback-55","title":"Evaluate: Run detekt or Android Lint for static analysis","description":"Use detekt or Android lint to find dead code, unused resources, and code quality issues. May help identify cleanup opportunities.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T02:34:29.115234868-05:00","created_by":"kimb","updated_at":"2026-01-29T04:22:23.280232117-05:00","closed_at":"2026-01-29T04:22:21.412678597-05:00"}
{"id":"wonderback-56","title":"Investigate: Check if Gradle tasks can be isolated/removed","description":"Analyze gradle task dependencies to see if problematic modules (braille, wear, etc) can be cleanly separated or removed from agent-focused builds.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T02:34:29.530640499-05:00","created_by":"kimb","updated_at":"2026-01-29T03:10:32.068815924-05:00","closed_at":"2026-01-29T03:10:30.670170424-05:00"}
{"id":"wonderback-57","title":"Modularize: Extract agent code into standalone module","description":"If upstream investigation doesn't find quick fix, try building agent module in isolation. Create minimal standalone module with just agent code, no TalkBack dependencies.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T03:10:12.01247083-05:00","created_by":"kimb","updated_at":"2026-01-29T03:10:12.01247083-05:00"}
{"id":"wonderback-58","title":"Fix Phase 1: Add 5 truly missing resources","description":"Add: symbol_bullet, accessibility_font, template_text_removed (strings), config_slop_default_multiplier, config_passthrough_slop_multiplier (integers)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:10:54.769369911-05:00","created_by":"kimb","updated_at":"2026-01-29T03:12:54.94769891-05:00","closed_at":"2026-01-29T03:12:52.717123175-05:00"}
{"id":"wonderback-59","title":"Fix Phase 1: Change AgentManager.getInstance() to constructor","description":"TalkBackService.java:1455 calls non-existent static method. Change to: new AgentManager(this)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-29T03:10:55.224171885-05:00","created_by":"kimb","updated_at":"2026-01-29T03:12:54.954159107-05:00","closed_at":"2026-01-29T03:12:52.717161296-05:00"}
{"id":"wonderback-5ea","title":"Phase 1: Audit existing TalkBack codebase and identify core service components","description":"Before refactoring, we need to understand the current TalkBack architecture:\n- Map out existing AccessibilityService implementation\n- Identify gesture handling logic\n- Document current event processing pipeline\n- List dependencies and components that need refactoring\n- Create architecture diagram of current state\n\nDeliverable: Architecture document with component map and refactor strategy","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-28T01:01:29.106071642-05:00","created_by":"kimb","updated_at":"2026-01-28T01:10:03.722396475-05:00","closed_at":"2026-01-28T01:10:03.722396475-05:00","close_reason":"Comprehensive architecture audit complete. Created detailed documentation at docs/architecture/CURRENT_ARCHITECTURE.md covering all major subsystems: event pipeline, gesture handling, focus management, actors, and refactoring strategy."}
{"id":"wonderback-60","title":"Fix Phase 1: Fix AndroidX ID references","description":"Replace R.id.alertTitle with android.R.id.title and R.id.seekbar with androidx.preference.R.id.seekbar","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-29T03:10:55.633280802-05:00","created_by":"kimb","updated_at":"2026-01-29T03:12:54.956144234-05:00","closed_at":"2026-01-29T03:12:52.717165935-05:00"}
{"id":"wonderback-61","title":"Fix Phase 2: Solve resource visibility (utils→talkback)","description":"Choose: (A) Copy utils resources to talkback, or (B) Fix R class generation with android.nonTransitiveRClass=false in gradle.properties","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T03:10:56.046128284-05:00","created_by":"kimb","updated_at":"2026-01-29T03:18:10.117809999-05:00","closed_at":"2026-01-29T03:18:08.721437189-05:00"}
{"id":"wonderback-62","title":"Build System Fixed: TalkBack Agent APK Successfully Built","description":"## Summary\nSuccessfully fixed all build errors and generated the TalkBack Agent APK for wonderback project.\n\n## Key Achievements\n- ✅ Fixed 77 compilation errors (resource visibility issues)\n- ✅ Completed AGP 7.2.2 → 8.3.0 migration\n- ✅ Generated phone-debug APK: 32MB, build time 28s\n- ✅ APK location: build/outputs/apk/phone/debug/wonderback-phone-debug.apk\n\n## Root Cause \u0026 Solution\n**Problem**: AGP 8.x introduced non-transitive R classes by default. Resources in :utils module weren't accessible to :talkback code.\n\n**Solution**: Added android.nonTransitiveRClass=false to gradle.properties to restore transitive R class behavior.\n\n## All Fixes Applied\n1. Phase 1 (Critical Resources):\n   - Added missing strings: template_text_removed, accessibility_font\n   - Added missing integers: config_slop_default_multiplier, config_passthrough_slop_multiplier\n   - Fixed AgentManager instantiation in TalkBackService.java:1455\n   - Fixed AndroidX ID references\n\n2. Phase 2 (Resource Visibility):\n   - Enabled transitive R classes in gradle.properties\n\n3. AGP 8 Migration:\n   - Added namespace declarations to all 13 modules\n   - Enabled buildFeatures.buildConfig across all modules\n   - Aligned JVM targets to Java 17\n   - Removed circular dependency\n   - Updated to modern packaging/lint DSL syntax\n\n## Next Steps\nReady for Model Gym MVP: Install APK, enable TalkBack, test with Sudoku app","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:19:03.578545059-05:00","created_by":"kimb","updated_at":"2026-01-29T03:19:08.582569475-05:00","closed_at":"2026-01-29T03:19:07.168694216-05:00"}
{"id":"wonderback-63","title":"Add logging to Sudoku test app for agent tracking","description":"Add comprehensive Android Log statements throughout the Sudoku app to track:\n- App lifecycle events (onCreate, onStart, onResume, etc)\n- Cell clicks (row, col, value, isGiven status)\n- Number picker interactions (opened, number selected, dismissed)\n- Solve button clicks with validation details\n- Grid status (filled/empty cell counts)\n- Incorrect cells when validation fails\n\nThis enables tracking whether the TalkBack agent is actually solving the puzzle correctly.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:29.698933893-05:00","created_by":"kimb","updated_at":"2026-01-29T03:39:29.719734598-05:00","closed_at":"2026-01-29T03:39:29.719734598-05:00"}
{"id":"wonderback-64","title":"Update flake.nix to include Android Emulator and system images","description":"Modify flake.nix androidComposition to add:\n- includeEmulator = true (currently false)\n- includeSystemImages = true (currently false)  \n- systemImageTypes = [\"google_apis_playstore\"]\n- abiVersions = [\"x86_64\"]\n\nThis enables headless Android Emulator support in the nix development environment.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:35.557843986-05:00","created_by":"kimb","updated_at":"2026-01-29T03:40:33.527963989-05:00","closed_at":"2026-01-29T03:40:32.110803418-05:00"}
{"id":"wonderback-65","title":"Create Android Virtual Device (AVD) for TalkBack testing","description":"Use avdmanager to create AVD with:\n- Name: talkback_test\n- System image: system-images;android-34;google_apis_playstore;x86_64\n- Enable hardware keyboard: hw.keyboard=yes in config.ini\n- Configure for headless operation (no GUI window)\n\nDepends on wonderback-64 (emulator in flake.nix)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:45.697294309-05:00","created_by":"kimb","updated_at":"2026-01-29T03:42:43.585366009-05:00","closed_at":"2026-01-29T03:42:42.157249727-05:00","dependencies":[{"issue_id":"wonderback-65","depends_on_id":"wonderback-64","type":"blocks","created_at":"2026-01-29T03:40:05.332702937-05:00","created_by":"import"}]}
{"id":"wonderback-66","title":"Start Android Emulator in headless mode","description":"Start emulator with:\n- emulator @talkback_test -no-window -no-audio -gpu swiftshader_indirect\n- Verify boot completion with adb wait-for-device\n- Check emulator status with adb shell getprop sys.boot_completed\n\nHeadless mode is critical since we don't have GUI desktop session access.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:45.708993614-05:00","created_by":"kimb","updated_at":"2026-01-29T03:45:03.320560041-05:00","closed_at":"2026-01-29T03:45:01.453292548-05:00","dependencies":[{"issue_id":"wonderback-66","depends_on_id":"wonderback-65","type":"blocks","created_at":"2026-01-29T03:40:05.338581023-05:00","created_by":"import"}]}
{"id":"wonderback-67","title":"Install TalkBack and Sudoku APKs on emulator","description":"Install both APKs:\n1. adb install -r wonderback-phone-debug.apk (our TalkBack agent)\n2. adb install -r sudoku-test-app-debug.apk\n\nVerify installations with adb shell pm list packages | grep -E 'accessibility|sudoku'","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:45.720203152-05:00","created_by":"kimb","updated_at":"2026-01-29T03:45:21.97255694-05:00","closed_at":"2026-01-29T03:45:20.578169465-05:00","dependencies":[{"issue_id":"wonderback-67","depends_on_id":"wonderback-66","type":"blocks","created_at":"2026-01-29T03:40:05.339974065-05:00","created_by":"import"}]}
{"id":"wonderback-68","title":"Enable TalkBack accessibility service on emulator","description":"Enable our TalkBack agent:\n- adb shell settings put secure enabled_accessibility_services com.google.android.accessibility.talkback/com.google.android.accessibility.talkback.TalkBackService\n- adb shell settings put secure accessibility_enabled 1\n- Verify with adb shell settings get secure enabled_accessibility_services\n\nThis activates our agent to start capturing accessibility events.","notes":"TalkBack configured in settings but not starting automatically. This is a known emulator limitation - accessibility services often require manual GUI interaction or reboot to activate. Sudoku app confirmed running with logging working perfectly. Will document workaround options in new bead.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:39:54.007092054-05:00","created_by":"kimb","updated_at":"2026-01-29T03:53:50.897362994-05:00","closed_at":"2026-01-29T03:53:49.463667125-05:00","dependencies":[{"issue_id":"wonderback-68","depends_on_id":"wonderback-67","type":"blocks","created_at":"2026-01-29T03:40:05.34105064-05:00","created_by":"import"}]}
{"id":"wonderback-69","title":"Create TalkBack Tester Agent - Initial attempt at Sudoku","description":"Build an agent that:\n- Reads TalkBack utterances from the Sudoku app\n- Attempts to navigate the grid using gestures (swipe, tap)\n- Tries to solve the puzzle using only TalkBack context (no visual input)\n- Logs all actions and failures\n- Reports accessibility issues encountered\n\nExpected: Will likely fail due to accessibility problems, creating feedback for developer agent.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T03:39:54.018781751-05:00","created_by":"kimb","updated_at":"2026-01-29T04:12:39.623785578-05:00","closed_at":"2026-01-29T04:12:38.20546441-05:00","dependencies":[{"issue_id":"wonderback-69","depends_on_id":"wonderback-68","type":"blocks","created_at":"2026-01-29T03:40:05.342080138-05:00","created_by":"import"}]}
{"id":"wonderback-6ey","title":"Phase 4 (Stretch): Add HTML accessibility reports and diagnostics","description":"Generate HTML reports from a11y tree data:\n- Static HTML reports with tree visualization\n- Accessibility issue detection and reporting\n- Best practice violations\n- Coverage metrics (labeled elements, contrast, etc.)\n- Historical comparison (track improvements)\n- Integration with CI/CD for automated a11y checks\n- Shareable reports for team review\n\nComplement the 3D view with actionable diagnostics","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-28T01:02:20.538489851-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:20.538489851-05:00","dependencies":[{"issue_id":"wonderback-6ey","depends_on_id":"wonderback-9hx","type":"blocks","created_at":"2026-01-28T01:04:35.080732111-05:00","created_by":"kimb"}]}
{"id":"wonderback-6fa","title":"Phase 1: Extract core AccessibilityService into testable module","description":"Refactor TalkBack's AccessibilityService into a clean, testable module:\n- Separate UI/feedback logic from core accessibility logic\n- Create interfaces for gesture handling\n- Make event processing pipeline injectable/mockable\n- Remove dependencies on TalkBack-specific UI components\n- Ensure service can run in test mode without full TalkBack UI\n\nGoal: Core service that can be instantiated and controlled programmatically","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-28T01:01:29.562148508-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:29.562148508-05:00","dependencies":[{"issue_id":"wonderback-6fa","depends_on_id":"wonderback-5ea","type":"blocks","created_at":"2026-01-28T01:04:31.161923434-05:00","created_by":"kimb"},{"issue_id":"wonderback-6fa","depends_on_id":"wonderback-8j2","type":"blocks","created_at":"2026-01-28T01:08:09.525959334-05:00","created_by":"kimb"}]}
{"id":"wonderback-70","title":"Create Developer Agent - Improve accessibility based on tester feedback","description":"Build an agent that:\n- Receives failure reports from the Tester Agent\n- Analyzes accessibility issues (missing content descriptions, poor focus order, etc)\n- Modifies the Sudoku app code to improve accessibility\n- Rebuilds and reinstalls the app\n- Triggers Tester Agent to try again\n\nThis creates a feedback loop: Tester → Developer → Improved App → Tester\n\nGoal: Iterate until Tester Agent can successfully navigate and solve the puzzle using only TalkBack.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T03:39:59.463337031-05:00","created_by":"kimb","updated_at":"2026-01-29T03:39:59.463337031-05:00","dependencies":[{"issue_id":"wonderback-70","depends_on_id":"wonderback-69","type":"blocks","created_at":"2026-01-29T03:40:05.3431873-05:00","created_by":"import"}]}
{"id":"wonderback-71","title":"Learn from nixpkgs androidenv for better emulator configuration","description":"The nixpkgs source at /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/ shows better patterns:\n\n**emulate-app.nix insights:**\n- Use configOptions parameter to set config.ini values elegantly (line 136-140)\n- Support androidAvdFlags and androidEmulatorFlags for customization\n- Automatic AVD creation if it doesn't exist\n- Built-in boot completion waiting logic\n- Can auto-install and start apps\n\n**Better approach for our flake.nix:**\nInstead of manually calling avdmanager/emulator commands, we could:\n1. Use androidenv.emulateApp function\n2. Pass configOptions = { \"hw.keyboard\" = \"yes\"; \"hw.audioInput\" = \"no\"; }\n3. Set androidEmulatorFlags = \"-no-window -no-audio -gpu swiftshader_indirect\"\n4. Let Nix handle AVD lifecycle\n\n**Current status:**\nWorking with manual approach for MVP. Can refactor later to use emulateApp pattern.\n\n**Reference files:**\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/emulate-app.nix\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/compose-android-packages.nix\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/examples/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T03:43:52.906126491-05:00","created_by":"kimb","updated_at":"2026-01-29T03:43:52.906126491-05:00"}
{"id":"wonderback-72","title":"Research: Handle APKs in Nix as fixed-output derivations","description":"User question: 'how do we get it the apk if those don't work fantastic as fixed outputs?'\n\n## The Challenge\nAPKs are build outputs that change frequently during development. Fixed-output derivations in Nix require known hashes, which don't work well for rapidly changing builds.\n\n## Potential Solutions to Research\n\n### 1. Use androidenv.buildApp (from nixpkgs)\n- Builds APK from source within Nix\n- Fully reproducible\n- File: /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/build-app.nix\n\n### 2. Use emulate-app.nix with 'app' parameter\n- Takes APK path as input (can be outside /nix/store)\n- Example: app = /home/kimb/projects/wonderback/build/outputs/apk/phone/debug/wonderback-phone-debug.apk\n- Nix handles emulator setup, we handle APK externally\n\n### 3. Impure derivation (Nix flakes with --impure)\n- Use builtins.path or similar to reference local APK\n- Not reproducible but practical for development\n\n### 4. Separate dev vs prod workflows\n- Dev: Build APK with gradle, install manually (current approach)\n- Prod: Build within Nix for reproducibility\n- Use conditional flake outputs\n\n## Current Status\nUsing manual approach for MVP (gradle build → adb install). Works well for development iteration.\n\n## References\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/build-app.nix\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/emulate-app.nix\n- /home/kimb/projects/nixpkgs/pkgs/development/mobile/androidenv/examples/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T03:46:25.957053159-05:00","created_by":"kimb","updated_at":"2026-01-29T03:46:25.957053159-05:00"}
{"id":"wonderback-73","title":"Programmatically enable TalkBack via UI Automator or adb input","description":"Challenge: Accessibility services require manual GUI interaction to enable, but we're running headless.\n\n## Clever Solutions to Try\n\n### 1. UI Automator Script (Most Promising)\n- Write a UI Automator test that navigates Settings → Accessibility → TalkBack\n- Run via: adb shell am instrument -w -r -e debug false -e class \u003ctest\u003e \u003cpackage\u003e/androidx.test.runner.AndroidJUnitRunner\n- Can work headless if emulator has accessibility hierarchy available\n\n### 2. ADB Input Commands\n- Simulate touch events to navigate Settings UI\n- adb shell input tap X Y  # Tap coordinates\n- adb shell input keyevent KEYCODE_BACK\n- Requires knowing exact UI coordinates (fragile)\n\n### 3. Root + System Modification\n- Root emulator with adb root\n- Directly modify /data/system/users/0/settings_secure.xml\n- Most reliable but requires root access\n\n### 4. Custom System Image\n- Build emulator image with TalkBack pre-enabled\n- Use android-prepare-vendor or similar\n- One-time setup, reusable for all tests\n\n### 5. AccessibilityService Test Harness\n- Use Android's accessibility testing framework\n- May bypass normal permission requirements\n\n## Current Status\nTalkBack configured in settings but not actually running. Need one of the above approaches.\n\n## User Note\n'you need to enable an accessibility service by hand unless maybe you have some kind of root privilege? That may take a human touch but I hope you can figure out something clever'","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:47:02.435987589-05:00","created_by":"kimb","updated_at":"2026-01-29T03:53:50.90985963-05:00","closed_at":"2026-01-29T03:53:49.464034095-05:00"}
{"id":"wonderback-74","title":"Switch to google_apis (userdebug) system image for adb root access","description":"User insight: Debug builds allow adb root!\n\n## The Fix\n- Current: system-images;android-34;google_apis_playstore;x86_64 (production, no root)\n- Switch to: system-images;android-34;google_apis;x86_64 (userdebug, has root!)\n\n## Steps\n1. Install google_apis system image\n2. Stop current emulator\n3. Delete talkback_test AVD\n4. Recreate AVD with google_apis image\n5. Start emulator\n6. Run: adb root\n7. Directly modify settings database with root\n8. Enable TalkBack without GUI interaction!\n\n## Why This Works\ngoogle_apis images are userdebug builds that allow:\n- adb root\n- su access  \n- Direct system file modification\n- Perfect for headless testing!\n\ngoogle_apis_playstore images are production builds (locked down for Play Store compatibility)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:48:03.524231553-05:00","created_by":"kimb","updated_at":"2026-01-29T03:51:25.904346386-05:00","closed_at":"2026-01-29T03:51:23.987004757-05:00"}
{"id":"wonderback-75","title":"Manually test TalkBack is responding to Sudoku app","description":"Verify TalkBack accessibility service is actually working:\n- Check TalkBack process is running\n- Simulate touch events on Sudoku UI elements\n- Verify TalkBack produces accessibility announcements\n- Check logcat for TalkBack output\n- Confirm TalkBack can see and describe UI elements\n\nThis ensures the infrastructure is working before building agents.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:55:56.571894293-05:00","created_by":"kimb","updated_at":"2026-01-29T03:57:48.362110493-05:00","closed_at":"2026-01-29T03:57:46.533208332-05:00"}
{"id":"wonderback-76","title":"Document complete setup in SETUP.md","description":"Create clearly labeled markdown documentation:\n- Prerequisites (Nix, flake setup)\n- Build commands (TalkBack APK, Sudoku APK)\n- Emulator setup (AVD creation, root flags)\n- APK installation steps\n- TalkBack enablement\n- Verification steps\n- Troubleshooting\n\nMake it reproducible for future sessions.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-29T03:55:56.585152771-05:00","created_by":"kimb","updated_at":"2026-01-29T03:59:41.522868934-05:00","closed_at":"2026-01-29T03:59:40.127511426-05:00","dependencies":[{"issue_id":"wonderback-76","depends_on_id":"wonderback-75","type":"blocks","created_at":"2026-01-29T03:56:02.421963185-05:00","created_by":"import"}]}
{"id":"wonderback-77","title":"Build Tester and Developer agents","description":"Implement the feedback loop:\n1. Tester Agent (wonderback-69): Navigate Sudoku using TalkBack utterances, try to solve\n2. Developer Agent (wonderback-70): Analyze failures, improve app accessibility\n3. Iterate until Tester succeeds\n\nThis is the core Model Gym MVP goal.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T03:55:56.597033746-05:00","created_by":"kimb","updated_at":"2026-01-29T04:18:39.806243956-05:00","closed_at":"2026-01-29T04:18:38.410333051-05:00","dependencies":[{"issue_id":"wonderback-77","depends_on_id":"wonderback-76","type":"blocks","created_at":"2026-01-29T03:56:02.423740909-05:00","created_by":"import"}]}
{"id":"wonderback-78","title":"Investigate: accessibility_enabled shows 0 despite TalkBack running","description":"## Symptom\nTalkBack process is running and accessibility framework works, but:\n- accessibility_enabled = 0\n- touch_exploration_enabled = 0\n\n## What Works\n✅ TalkBack process running (PID 3942)\n✅ UI accessibility tree functional\n✅ Content descriptions present\n✅ Touch interactions captured\n✅ Logging works\n\n## Investigation Needed\n- Check if this affects agent functionality\n- Try force-restarting accessibility service\n- Compare with documented behavior\n- Determine if this is cosmetic or functional issue","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-29T03:59:33.549817237-05:00","created_by":"kimb","updated_at":"2026-01-29T03:59:33.549817237-05:00"}
{"id":"wonderback-79","title":"Create retrospective: What worked and didn't work in Model Gym MVP","description":"Analyze bead history to extract lessons learned:\n- What approaches worked well (background agents, reading source, etc)\n- What didn't work (trial-and-error, overcomplicated solutions)\n- Time spent on different approaches\n- Decision points and pivots\n- Recommendations for future TalkBack fork work\n- How to help team move faster based on learnings\n\nOutput: RETROSPECTIVE.md with actionable insights for the team","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T04:23:05.283587266-05:00","created_by":"kimb","updated_at":"2026-01-29T04:25:28.544471589-05:00","closed_at":"2026-01-29T04:25:28.46477289-05:00"}
{"id":"wonderback-7zk","title":"Phase 2: Design ADB protocol for accessibility control commands","description":"Define the protocol for controlling the accessibility service over ADB:\n- Command schema (JSON/protobuf?)\n- Gesture commands (tap, swipe, multi-touch, etc.)\n- Query commands (get a11y tree, get element properties)\n- Event subscription (stream accessibility events)\n- Response format and error handling\n- Authentication/security model for ADB connection\n\nDeliverable: Protocol specification and examples","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T01:01:45.864542586-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:45.864542586-05:00","dependencies":[{"issue_id":"wonderback-7zk","depends_on_id":"wonderback-x04","type":"blocks","created_at":"2026-01-28T01:04:33.161410311-05:00","created_by":"kimb"}]}
{"id":"wonderback-8j2","title":"Phase 1: Validate Gradle build system works","description":"Ensure the project builds successfully with Gradle before making any changes:\n- Run ./gradlew build to verify clean build\n- Check all modules compile (talkback, utils, braille, etc.)\n- Identify build configuration and dependencies\n- Document build process\n- Ensure CI/CD integration works if applicable\n\nThis validates we have a working baseline before refactoring.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-28T01:08:04.271595898-05:00","created_by":"kimb","updated_at":"2026-01-29T00:56:34.766789254-05:00","closed_at":"2026-01-29T00:56:33.365936138-05:00","dependencies":[{"issue_id":"wonderback-8j2","depends_on_id":"wonderback-5ea","type":"blocks","created_at":"2026-01-28T01:08:09.489737403-05:00","created_by":"kimb"}]}
{"id":"wonderback-8j3","title":"Write developer documentation and examples","description":"Create comprehensive documentation:\n- Architecture overview\n- API reference (ADB protocol, query language)\n- Getting started guide\n- Example test scenarios\n- Integration with test frameworks (Espresso, etc.)\n- Troubleshooting guide\n- Performance tuning tips\n- Example agent implementations\n\nMake it easy for developers to adopt this system","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T01:02:32.3644285-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:32.3644285-05:00","dependencies":[{"issue_id":"wonderback-8j3","depends_on_id":"wonderback-v3z","type":"blocks","created_at":"2026-01-28T01:04:36.288797347-05:00","created_by":"kimb"}]}
{"id":"wonderback-8y8","title":"Phase 3: Create enhanced debugging fixtures and test utilities","description":"Build developer-friendly testing infrastructure:\n- Mock accessibility events generator\n- Fixture library for common UI patterns\n- Test harness with setup/teardown\n- Assertion helpers for a11y properties\n- Screen reader behavior mocks\n- Event recording/playback for regression tests\n- Performance profiling hooks\n\nMake it easy to write and debug accessibility tests","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:02:00.881636671-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:00.881636671-05:00","dependencies":[{"issue_id":"wonderback-8y8","depends_on_id":"wonderback-x04","type":"blocks","created_at":"2026-01-28T01:04:33.56736458-05:00","created_by":"kimb"}]}
{"id":"wonderback-9hx","title":"Phase 4 (Stretch): Export accessibility tree to web-friendly format","description":"Build export pipeline for visualization:\n- Serialize a11y tree to JSON with all properties\n- Include screen coordinates, bounds, hierarchy\n- Capture screenshots/layers for texture mapping\n- Handle tree updates/deltas for live view\n- Optimize for large trees (pagination, pruning)\n- WebSocket or HTTP server for live streaming\n\nFeed data to the 3D visualization frontend","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T01:02:19.98221664-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:19.98221664-05:00","dependencies":[{"issue_id":"wonderback-9hx","depends_on_id":"wonderback-9nm","type":"blocks","created_at":"2026-01-28T01:04:34.320694542-05:00","created_by":"kimb"}]}
{"id":"wonderback-9nm","title":"Phase 2: Implement accessibility tree query API over ADB","description":"Enable querying the a11y tree structure via ADB:\n- Export full accessibility tree as structured data\n- Query by selector (role, text, content-description)\n- Get node properties (bounds, state, actions)\n- Navigate tree relationships (parent, children, siblings)\n- Performance optimization for large trees\n- Snapshot/diff capability\n\nCritical for test assertions and agentic navigation","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:01:47.046211556-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:47.046211556-05:00","dependencies":[{"issue_id":"wonderback-9nm","depends_on_id":"wonderback-a4d","type":"blocks","created_at":"2026-01-28T01:04:32.786365363-05:00","created_by":"kimb"}]}
{"id":"wonderback-a4d","title":"Phase 2: Implement ADB bridge service for command handling","description":"Build the ADB interface layer:\n- ADB socket server in the accessibility service\n- Command parser and dispatcher\n- Response serialization\n- Error handling and logging\n- Security/permission checks\n- Connection lifecycle management\n\nEnable programmatic control via 'adb shell' or 'adb forward'","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:01:46.266519206-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:46.266519206-05:00","dependencies":[{"issue_id":"wonderback-a4d","depends_on_id":"wonderback-7zk","type":"blocks","created_at":"2026-01-28T01:04:32.018084947-05:00","created_by":"kimb"}]}
{"id":"wonderback-ay5","title":"Phase 2: Implement programmatic gesture injection via ADB","description":"Build gesture control API accessible over ADB:\n- Tap at coordinates\n- Swipe gestures (direction, velocity, multi-finger)\n- Long press, double tap\n- Complex gesture sequences\n- Gesture timing control\n- Coordinate system handling (screen vs window)\n\nAllow agents/tests to drive UI interactions programmatically","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:01:46.656042072-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:46.656042072-05:00","dependencies":[{"issue_id":"wonderback-ay5","depends_on_id":"wonderback-a4d","type":"blocks","created_at":"2026-01-28T01:04:32.399418506-05:00","created_by":"kimb"}]}
{"id":"wonderback-e52","title":"Phase 3: Build debugging UI for live inspection","description":"Create debug panel/overlay for live inspection:\n- Show current accessibility tree state\n- Highlight focused elements\n- Display event stream in real-time\n- Show gesture recognition debug info\n- Performance metrics overlay\n- Toggle between debug/production modes\n- Remote inspection via web interface?\n\nHelps developers understand what the service sees","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:02:01.599379754-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:01.599379754-05:00","dependencies":[{"issue_id":"wonderback-e52","depends_on_id":"wonderback-h52","type":"blocks","created_at":"2026-01-28T01:04:33.946368919-05:00","created_by":"kimb"}]}
{"id":"wonderback-h52","title":"Phase 3: Add structured logging and diagnostics system","description":"Implement comprehensive logging for debugging:\n- Structured log format (JSON/logcat tags)\n- Log levels and filtering\n- Event tracing with timestamps\n- Performance metrics (latency, throughput)\n- Memory/resource usage tracking\n- Log export via ADB\n- Integration with Android Studio profiler\n\nEnable deep visibility into a11y service behavior","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:02:01.303898066-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:01.303898066-05:00"}
{"id":"wonderback-ila","title":"Phase 4 (Stretch): Design 3D WebGL accessibility tree visualization","description":"Create an innovative 3D visualization of how TalkBack sees the screen:\n- WebGL-based renderer for a11y tree\n- Layered 3D cards representing UI hierarchy\n- Spatial layout reflecting screen position + z-index\n- Visual encoding of node properties (role, state, actions)\n- Interactive navigation (rotate, zoom, select nodes)\n- Highlight traversal order and focus flow\n- Color-code issues (missing labels, poor contrast, etc.)\n\nGoal: Help developers understand the accessibility tree structure spatially, similar to how Chrome DevTools shows the DOM but in 3D with accessibility context","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-28T01:02:19.701683154-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:19.701683154-05:00"}
{"id":"wonderback-kt5","title":"Phase 4 (Stretch): Implement WebGL 3D renderer for a11y trees","description":"Build the actual 3D visualization frontend:\n- Three.js or similar WebGL framework\n- Render nodes as 3D cards floating in space\n- Layout algorithm (z-axis = tree depth, xy = screen position?)\n- Camera controls and navigation\n- Node selection and inspection panel\n- Animation for tree updates\n- Accessibility issue highlighting\n- Export/share view capability\n\nMake it beautiful and insightful","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-28T01:02:20.252584965-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:20.252584965-05:00","dependencies":[{"issue_id":"wonderback-kt5","depends_on_id":"wonderback-9hx","type":"blocks","created_at":"2026-01-28T01:04:34.686968436-05:00","created_by":"kimb"}]}
{"id":"wonderback-ps5","title":"Create integration test suite for accessibility service","description":"Build comprehensive integration tests:\n- Test gesture injection accuracy\n- Verify a11y tree query correctness\n- Test ADB protocol edge cases\n- Performance/load testing\n- Multi-app scenarios\n- Error handling and recovery\n- Compatibility across Android versions\n- Example test scenarios for common patterns\n\nEnsure the system works reliably for agentic testing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T01:02:31.920468515-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:31.920468515-05:00","dependencies":[{"issue_id":"wonderback-ps5","depends_on_id":"wonderback-ay5","type":"blocks","created_at":"2026-01-28T01:04:35.482597006-05:00","created_by":"kimb"},{"issue_id":"wonderback-ps5","depends_on_id":"wonderback-9nm","type":"blocks","created_at":"2026-01-28T01:04:35.51727797-05:00","created_by":"kimb"}]}
{"id":"wonderback-v3z","title":"Build example agentic test agent using the accessibility service","description":"Create a reference implementation showing the power of the system:\n- Simple agent that navigates an app autonomously\n- Uses a11y tree queries to understand UI state\n- Issues gestures to interact with elements\n- Makes assertions about app behavior\n- Demonstrates error handling and recovery\n- Shows best practices for agentic testing\n\nProof of concept that validates the entire architecture","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T01:02:32.822163149-05:00","created_by":"kimb","updated_at":"2026-01-28T01:02:32.822163149-05:00","dependencies":[{"issue_id":"wonderback-v3z","depends_on_id":"wonderback-ps5","type":"blocks","created_at":"2026-01-28T01:04:35.919540473-05:00","created_by":"kimb"}]}
{"id":"wonderback-x04","title":"Phase 1: Design debugging-friendly architecture with hooks and observers","description":"Add infrastructure for debugging and testing:\n- Observer pattern for accessibility events\n- Hook points for injecting test behavior\n- Logging framework with structured output\n- State inspection APIs\n- Event replay capability for debugging\n\nThis will enable better fixtures and programmatic control in later phases","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-28T01:01:29.926845769-05:00","created_by":"kimb","updated_at":"2026-01-28T01:01:29.926845769-05:00","dependencies":[{"issue_id":"wonderback-x04","depends_on_id":"wonderback-6fa","type":"blocks","created_at":"2026-01-28T01:04:31.61129081-05:00","created_by":"kimb"}]}
